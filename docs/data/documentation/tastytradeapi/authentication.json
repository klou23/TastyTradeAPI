{"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"article","metadata":{"title":"Authentication","roleHeading":"Article","modules":[{"name":"TastyTradeAPI"}],"role":"article"},"hierarchy":{"paths":[["doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI"]]},"abstract":[{"type":"text","text":"Setting up Authentication in TastyTradeAPI"}],"primaryContentSections":[{"content":[{"level":2,"text":"Overview","type":"heading","anchor":"Overview"},{"inlineContent":[{"text":"In order to authenticate with TastyTrade’s servers, you will need to have a","type":"text"},{"text":" ","type":"text"},{"text":"TastyTrade account. Authentication is done with your TastyTrade credentials.","type":"text"},{"text":" ","type":"text"},{"text":"TastyTradeAPI supports authentication for both real accounts and sandbox","type":"text"},{"type":"text","text":" "},{"type":"text","text":"accounts. More information about sandbox account can be found"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.tastytrade.com\/sandbox\/"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you use the API for the first time or from a new location, your login may"},{"text":" ","type":"text"},{"text":"fail, and you will need to verify the login came from you by following the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"email from TastyTrade."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"More information on how TastyTrade’s authentication works can be found in their"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.tastytrade.com\/api-guides\/sessions\/","isActive":true},{"text":".","type":"text"}]},{"anchor":"Steps","type":"heading","level":2,"text":"Steps"},{"anchor":"1-Create-a-new-TastyTradeAuth-object","text":"1. Create a new TastyTradeAuth object","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The first step for authentication is creating a new instance of TastyTradeAuth","type":"text"},{"type":"text","text":" "},{"text":"with your credentials. Below is an example:","type":"text"}]},{"type":"codeListing","code":["let auth = TastyTradeAuth(","    login: \"your-login-here\",","    password: \"your-password-here\",","    rememberMe: true",")"],"syntax":"swift"},{"level":5,"type":"heading","text":"Remember Me","anchor":"Remember-Me"},{"inlineContent":[{"type":"text","text":"The "},{"code":"rememberMe","type":"codeVoice"},{"text":" parameter determines if TastyTradeAPI request a remember token.","type":"text"},{"type":"text","text":" "},{"text":"If a remember token is requested then the remember token will be used instead","type":"text"},{"type":"text","text":" "},{"text":"off the password when attempting to authenticate again.","type":"text"}],"type":"paragraph"},{"type":"heading","anchor":"Sandbox","level":5,"text":"Sandbox"},{"inlineContent":[{"text":"By default, ","type":"text"},{"type":"codeVoice","code":"TastyTradeAuth"},{"text":" will create an auth object for a sandbox account.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"If you wish to use a real account, you can set the sandbox parameter:"}],"type":"paragraph"},{"code":["let auth = TastyTradeAuth(","    login: \"your-login-here\",","    password: \"your-password-here\",","    rememberMe: true,","    sandbox: false",")"],"type":"codeListing","syntax":"swift"},{"type":"heading","text":"2. Authenticating","anchor":"2-Authenticating","level":3},{"type":"paragraph","inlineContent":[{"text":"After creating the TastyTradeAuth object, the ","type":"text"},{"identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/TastyTradeAuth\/login()","isActive":true,"type":"reference"},{"text":" method","type":"text"},{"text":" ","type":"text"},{"text":"can be used to authenticate with the TastyTrade servers. It is recommended to","type":"text"},{"text":" ","type":"text"},{"text":"surround the call with a do-catch statement.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["do {","    try await auth.login()","} catch {","    \/\/ handle the error","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The most common error that will be thrown when calling"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/TastyTradeAuth\/login()"},{"type":"text","text":" is "},{"identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/TastyAPI\/ApiError\/http401(code:message:)","type":"reference","isActive":true},{"text":",","type":"text"},{"type":"text","text":" "},{"text":"which indicates an invalid username\/password.","type":"text"}]},{"text":"3. Setting the authentication object","level":3,"anchor":"3-Setting-the-authentication-object","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"After successfully authenticating your "},{"type":"codeVoice","code":"TastyTradeAuth"},{"type":"text","text":" object, you need to tell"},{"type":"text","text":" "},{"text":"TastyTradeAPI you use your newly create Auth object:","type":"text"}]},{"type":"codeListing","code":["TastyAPI.auth = auth"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"After this, you should be ready to start making API calls.","type":"text"}]}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/tastytradeapi\/authentication"]}],"sections":[],"identifier":{"url":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/Authentication","interfaceLanguage":"swift"},"references":{"doc://TastyTradeAPI/documentation/TastyTradeAPI/TastyAPI/ApiError/http401(code:message:)":{"fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"kind":"identifier","text":"http401"},{"text":"(","kind":"text"},{"text":"code","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":"?, "},{"text":"message","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)"}],"role":"symbol","title":"TastyAPI.ApiError.http401(code:message:)","url":"\/documentation\/tastytradeapi\/tastyapi\/apierror\/http401(code:message:)","identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/TastyAPI\/ApiError\/http401(code:message:)","kind":"symbol","abstract":[],"type":"topic"},"https://developer.tastytrade.com/sandbox/":{"title":"here","titleInlineContent":[{"type":"text","text":"here"}],"url":"https:\/\/developer.tastytrade.com\/sandbox\/","type":"link","identifier":"https:\/\/developer.tastytrade.com\/sandbox\/"},"doc://TastyTradeAPI/documentation/TastyTradeAPI/TastyTradeAuth/login()":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"login"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}],"kind":"symbol","role":"symbol","url":"\/documentation\/tastytradeapi\/tastytradeauth\/login()","identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI\/TastyTradeAuth\/login()","title":"login()","abstract":[{"type":"text","text":"Attempts to authenticate with the TastyTrade servers."}],"type":"topic"},"doc://TastyTradeAPI/documentation/TastyTradeAPI":{"abstract":[{"text":"A Swift library for the TastyTrade API.","type":"text"}],"url":"\/documentation\/tastytradeapi","title":"TastyTradeAPI","type":"topic","kind":"symbol","role":"collection","identifier":"doc:\/\/TastyTradeAPI\/documentation\/TastyTradeAPI"},"https://developer.tastytrade.com/api-guides/sessions/":{"title":"API docs","titleInlineContent":[{"type":"text","text":"API docs"}],"url":"https:\/\/developer.tastytrade.com\/api-guides\/sessions\/","type":"link","identifier":"https:\/\/developer.tastytrade.com\/api-guides\/sessions\/"}}}